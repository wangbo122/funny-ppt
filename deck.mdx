import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";
import { github, vsDark, base, dracula, duotoneDark, duotoneLight, nightOwl, oceanicNext, shadesOfPurple, ultramin } from "@code-surfer/themes";

export const themes = [nightOwl, oceanicNext];

# 2Dç¢°æ’æ£€æµ‹ ğŸ’¥
---

<CodeSurferColumns themes={themes}>

<Step>

  ```js
    if(ball.left < 0 || ball.right  > rect.width){
      ball.velocityX = -ball.velocityX
    }
    if(ball.top  < 0 || ball.bottom > rect.height){
      ball.velocityY = -ball.velocityY
    }
    // å½“çƒç¢°åˆ°è¾¹æ¡†å°±åå¼¹(å¦‚x/yè½´æ–¹å‘é€Ÿåº¦å–å)ã€‚
  ```

  ```js
    ä¸€äº›åœºæ™¯ï¼Œåªè¦æˆ‘ä»¬çº¦å®šå¥½é™å®šæ¡ä»¶ï¼Œå°±èƒ½å®ç°æˆ‘ä»¬æƒ³è¦çš„ç¢°æ’ï¼Œå¦‚ç¢°å£åå¼¹
  ```


</Step>

</CodeSurferColumns>

---

<CodeSurferColumns themes={themes}>

<Step>

  ```js
    if(ball.left < 0 || ball.right  > rect.width){
      ball.velocityX = -ball.velocityX
    }
    if(ball.top  < 0 || ball.bottom > rect.height){
      ball.velocityY = -ball.velocityY
    }
    // å½“çƒç¢°åˆ°è¾¹æ¡†å°±åå¼¹(å¦‚x/yè½´æ–¹å‘é€Ÿåº¦å–å)ã€‚
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/1.gif" width="700px"/>
  </>
</Step>

</CodeSurferColumns>

---

<CodeSurferColumns themes={themes}>

<Step>

  ```js
    if(
      people.left == 100 && 
      people.top + people.height > stone.height
    ){
      // ç¢°åˆ°çŸ³å¤´
    }
  ```

  ```js
    å†ä¾‹å¦‚å½“ä¸€ä¸ªäººèµ°åˆ° 100px ä½ç½®æ—¶ä¸è¿›è¡Œè·³è·ƒï¼Œå°±ä¼šç¢°åˆ°çŸ³å¤´ç­‰ç­‰ã€‚
  ```

</Step>

<Step>

  ```js
    if(
      people.left == 100 && 
      people.top + people.height > stone.height
    ){
      // ç¢°åˆ°çŸ³å¤´
    }
  ```

  ```js
    å†ä¾‹å¦‚å½“ä¸€ä¸ªäººèµ°åˆ° 100px ä½ç½®æ—¶ä¸è¿›è¡Œè·³è·ƒï¼Œå°±ä¼šç¢°åˆ°çŸ³å¤´ç­‰ç­‰ã€‚

    æ‰€ä»¥è¯´ï¼Œåœ¨æŸäº›åœºæ™¯åªéœ€é€šè¿‡è®¾å®šåˆ°é€‚å½“çš„å‚æ•°å³å¯å®ç°ç¢°æ’æ£€æµ‹ã€‚
  ```

</Step>

</CodeSurferColumns>

---

## è§„åˆ™å›¾å½¢ä¹‹é—´çš„ç¢°æ’

---

<img src="http://82.156.167.84:7001/blog/ppt2/1.png" width="700px"/>

---

<img src="http://82.156.167.84:7001/blog/ppt2/2.png" width="700px"/>

---

<img src="http://82.156.167.84:7001/blog/ppt2/3.png" width="700px"/>

---

<CodeSurferColumns themes={themes}>

<Step>

  ```js
                        çŸ©å½¢ç¢°æ’
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/4.png" width="700px"/>
  </>

</Step>

<Step>

  ```js
                 çŸ©å½¢ç¢°æ’

    åˆ¤æ–­ä¸¤ä¸ªï¼ˆæ— æ—‹è½¬ï¼‰çŸ©å½¢æ˜¯å¦ç¢°æ’ï¼Œ
    å°±æ˜¯çœ‹ä¸¤ä¸ªçŸ©å½¢çš„ä»»æ„ä¸€è¾¹æ˜¯å¦æ— é—´è·ã€‚
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/4.png" width="700px"/>
  </>

</Step>

</CodeSurferColumns>

---

<CodeSurferColumns themes={themes}>

<Step>

  ```js
    rect1.x < rect2.x + rect2.width && 
    rect1.x + rect1.width > rect2.x && 
    rect1.y < rect2.y + rect2.height && 
    rect1.height + rect1.y > rect2.y
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/4.png" width="700px"/>
  </>

</Step>

</CodeSurferColumns>

---

<CodeSurferColumns themes={themes}>

<Step>

  ```js
                        åœ†å½¢ç¢°æ’
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/29.png" width="700px"/>
  </>

</Step>

<Step>

  ```js
                        åœ†å½¢ç¢°æ’

    åˆ¤æ–­ä¸¤ä¸ªåœ†å½¢çš„åœ†å¿ƒæ˜¯å¦å°äºä¸¤åœ†åŠå¾„ä¹‹å’Œï¼Œå°äºçš„è¯å°±æ˜¯ç¢°æ’
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/28.png" width="700px"/>
  </>

</Step>

</CodeSurferColumns>

---

<CodeSurferColumns themes={themes}>

<Step>

  ```js
    Math.sqrt(
      Math.pow(circleA.x - circleB.x, 2) +
      Math.pow(circleA.y - circleB.y, 2)
    ) < circleA.radius + circleB.radius
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/27.png" width="700px"/>
  </>

</Step>

</CodeSurferColumns>

---

<CodeSurferColumns themes={themes}>

<Step>

  ```js
                        åœ†å½¢ä¸çŸ©å½¢ï¼ˆæ— æ—‹è½¬ï¼‰
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/30.png" width="700px"/>
  </>

</Step>

<Step>

  ```js
                        åœ†å½¢ä¸çŸ©å½¢ï¼ˆæ— æ—‹è½¬ï¼‰

    æ‰¾å‡ºçŸ©å½¢ä¸Šç¦»åœ†å¿ƒæœ€è¿‘çš„ç‚¹ï¼Œç„¶åé€šè¿‡åˆ¤æ–­è¯¥ç‚¹ä¸åœ†å¿ƒçš„è·ç¦»æ˜¯å¦å°äºåœ†çš„åŠå¾„ï¼Œ
    è‹¥å°äºåˆ™ä¸ºç¢°æ’ã€‚
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/6.png" width="700px"/>
  </>

</Step>

<Step>

  ```js
                        åœ†å½¢ä¸çŸ©å½¢ï¼ˆæ— æ—‹è½¬ï¼‰
    æ‰¾å‡ºçŸ©å½¢ä¸Šç¦»åœ†å¿ƒæœ€è¿‘çš„ç‚¹ï¼Œç„¶åé€šè¿‡åˆ¤æ–­è¯¥ç‚¹ä¸åœ†å¿ƒçš„è·ç¦»æ˜¯å¦å°äºåœ†çš„åŠå¾„ï¼Œ
    è‹¥å°äºåˆ™ä¸ºç¢°æ’ã€‚
    å¦‚ä½•æ‰¾å‡ºçŸ©å½¢ä¸Šç¦»åœ†å¿ƒæœ€è¿‘çš„ç‚¹å‘¢ï¼Ÿ
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/6.png" width="700px"/>
  </>

</Step>

<Step>

  ```js
    æ€è€ƒğŸ¤”ï¼šåœ†å’ŒçŸ©å½¢æœ‰å‡ ç§ä½ç½®æƒ…å†µçš„ç»„åˆ
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/6.png" width="700px"/>
  </>

</Step>

<Step>

  ```js
    æ€è€ƒğŸ¤”ï¼šåœ†å’ŒçŸ©å½¢æœ‰å‡ ç§ä½ç½®æƒ…å†µçš„ç»„åˆ
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/10.png" width="700px"/>
  </>

</Step>

<Step>

  ```js
    æ€è€ƒğŸ¤”ï¼šåœ†å’ŒçŸ©å½¢æœ‰å‡ ç§ä½ç½®æƒ…å†µçš„ç»„åˆ
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/11.png" width="700px"/>
  </>

</Step>

<Step>

  ```js
    ä¸‹é¢æˆ‘ä»¬ä» x è½´ã€y è½´ä¸¤ä¸ªæ–¹å‘åˆ†åˆ«è¿›è¡Œå¯»æ‰¾ã€‚ä¸ºäº†æ–¹ä¾¿æè¿°ï¼Œæˆ‘ä»¬å…ˆçº¦å®šä»¥ä¸‹å˜é‡ï¼š

    çŸ©å½¢ä¸Šç¦»åœ†å¿ƒæœ€è¿‘çš„ç‚¹ä¸ºå˜é‡ï¼šclosestPoint = {x, y};
    çŸ©å½¢ rect = {x, y, w, h};  // å·¦ä¸Šè§’ä¸å®½é«˜
    åœ†å½¢ circle = {x, y, r};  // åœ†å¿ƒä¸åŠå¾„

  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/7.png" width="700px"/>
  </>

</Step>

<Step>

  ```js 1,2,3,4,5,6,7
    çŸ©å½¢ä¸Šç¦»åœ†å¿ƒæœ€è¿‘çš„ç‚¹ä¸ºå˜é‡ï¼šclosestPoint = {x, y};
    çŸ©å½¢ rect = {x, y, w, h};  // å·¦ä¸Šè§’ä¸å®½é«˜
    åœ†å½¢ circle = {x, y, r};  // åœ†å¿ƒä¸åŠå¾„

    if (circle.x < rect.x) {
      closestPoint.x = rect.x 
    }
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/7.png" width="700px"/>
  </>

</Step>

<Step>

  ```js 1,2,3,4,5,6,7,8,9
    çŸ©å½¢ä¸Šç¦»åœ†å¿ƒæœ€è¿‘çš„ç‚¹ä¸ºå˜é‡ï¼šclosestPoint = {x, y};
    çŸ©å½¢ rect = {x, y, w, h};  // å·¦ä¸Šè§’ä¸å®½é«˜
    åœ†å½¢ circle = {x, y, r};  // åœ†å¿ƒä¸åŠå¾„

    if (circle.x < rect.x) {
      closestPoint.x = rect.x 
    } else if (circle.x > rect.x + rect.w) {
      closestPoint.x = rect.x  + rect.w
    } 
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/8.png" width="700px"/>
  </>

</Step>

<Step>

  ```js 1,2,3,4,5,6,7,8,9,10,11
    çŸ©å½¢ä¸Šç¦»åœ†å¿ƒæœ€è¿‘çš„ç‚¹ä¸ºå˜é‡ï¼šclosestPoint = {x, y};
    çŸ©å½¢ rect = {x, y, w, h};  // å·¦ä¸Šè§’ä¸å®½é«˜
    åœ†å½¢ circle = {x, y, r};  // åœ†å¿ƒä¸åŠå¾„

    if (circle.x < rect.x) {
      closestPoint.x = rect.x 
    } else if (circle.x > rect.x + rect.w) {
      closestPoint.x = rect.x  + rect.w
    } else {
      closestPoint.x = circle.x 
    }
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/9.png" width="700px"/>
  </>

</Step>

</CodeSurferColumns>

---

<CodeSurferColumns themes={themes}>

<Step>

  ```js
    // closestPoint.x
    if (circle.x < rect.x) {
      closestPoint.x = rect.x 
    } else if (circle.x > rect.x + rect.w) {
      closestPoint.x = rect.x  + rect.w
    } else {
      closestPoint.x = circle.x 
    }

    // closestPoint.y
    if (circle.y < rect.y) {
      closestPoint.y = rect.y 
    } else if (circle.y < rect.y + rect.h) {
      closestPoint.y = rect.y +rect.h
    } else {
      closestPoint.y = circle.y 
    }

  ```

  ```js
    é€šè¿‡ä¸Šè¿°æ–¹æ³•å³å¯æ‰¾å‡ºçŸ©å½¢ä¸Šç¦»åœ†å¿ƒæœ€è¿‘çš„ç‚¹äº†ï¼Œ

    ç„¶åé€šè¿‡ã€ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»å…¬å¼ã€å¾—å‡ºã€æœ€è¿‘ç‚¹ã€ä¸ã€åœ†å¿ƒã€çš„è·ç¦»ï¼Œ

    æœ€åå°†å…¶ä¸åœ†çš„åŠå¾„ç›¸æ¯”ï¼Œå³å¯åˆ¤æ–­æ˜¯å¦å‘ç”Ÿç¢°æ’ã€‚
  ```

</Step>

</CodeSurferColumns>

---

<CodeSurferColumns themes={themes}>

<Step>

  ```js
                           çŸ©å½¢ç¢°æ’ï¼ˆä»¥çŸ©å½¢ä¸­å¿ƒä¸ºæ—‹è½¬è½´ï¼‰
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/12.png" width="700px"/>
  </>

</Step>

<Step>

  ```js
                çŸ©å½¢ç¢°æ’ï¼ˆä»¥çŸ©å½¢ä¸­å¿ƒä¸ºæ—‹è½¬è½´ï¼‰

    å³ä½¿çŸ©å½¢ä»¥å…¶ä¸­å¿ƒä¸ºæ—‹è½¬è½´è¿›è¡Œäº†æ—‹è½¬ï¼Œ
    ä½†æ˜¯åˆ¤æ–­å®ƒä¸åœ†å½¢æ˜¯å¦å‘ç”Ÿç¢°æ’çš„æœ¬è´¨è¿˜æ˜¯æ‰¾å‡ºçŸ©å½¢ä¸Šç¦»åœ†å¿ƒçš„æœ€è¿‘ç‚¹ã€‚
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/12.png" width="700px"/>
  </>

</Step>

<Step>

  ```js
                çŸ©å½¢ç¢°æ’ï¼ˆä»¥çŸ©å½¢ä¸­å¿ƒä¸ºæ—‹è½¬è½´ï¼‰

    å³ä½¿çŸ©å½¢ä»¥å…¶ä¸­å¿ƒä¸ºæ—‹è½¬è½´è¿›è¡Œäº†æ—‹è½¬ï¼Œ
    ä½†æ˜¯åˆ¤æ–­å®ƒä¸åœ†å½¢æ˜¯å¦å‘ç”Ÿç¢°æ’çš„æœ¬è´¨è¿˜æ˜¯æ‰¾å‡ºçŸ©å½¢ä¸Šç¦»åœ†å¿ƒçš„æœ€è¿‘ç‚¹ã€‚
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/13.png" width="700px"/>
  </>

</Step>

<Step>

  ```js 1,2,3,4
    å…ˆç»™å‡ºå¯ç›´æ¥å¥—ç”¨çš„å…¬å¼ï¼Œä»è€Œå¾—å‡ºæ—‹è½¬åçš„åœ†å¿ƒåæ ‡ï¼š

    xâ€™ = cos(Î²) * (cx â€“ centerX) â€“ sin(Î²) * (cy â€“ centerY) + centerX
    yâ€™ = sin(Î²) * (cx â€“ centerX) + cos(Î²) * (cy â€“ centerY) + centerY
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/13.png" width="700px"/>
  </>

</Step>

<Step>

  ```js 1,2,3,4
    xâ€™ = cos(Î²) * (cx â€“ centerX) â€“ sin(Î²) * (cy â€“ centerY) + centerX
    yâ€™ = sin(Î²) * (cx â€“ centerX) + cos(Î²) * (cy â€“ centerY) + centerY
  
    è®¾ A ç‚¹æ—‹è½¬å‰çš„è§’åº¦ä¸º Î´ï¼Œåˆ™æ—‹è½¬ï¼ˆé€†æ—¶é’ˆï¼‰åˆ° C ç‚¹åçš„è§’åº¦ä¸º(Î´+Î²)
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/14.png" width="700px"/>
  </>

</Step>

<Step>

  ```js 1,2,3,4,5,6,7,8
    xâ€™ = cos(Î²) * (cx â€“ centerX) â€“ sin(Î²) * (cy â€“ centerY) + centerX
    yâ€™ = sin(Î²) * (cx â€“ centerX) + cos(Î²) * (cy â€“ centerY) + centerY
  
    è®¾ A ç‚¹æ—‹è½¬å‰çš„è§’åº¦ä¸º Î´ï¼Œåˆ™æ—‹è½¬ï¼ˆé€†æ—¶é’ˆï¼‰åˆ° C ç‚¹åçš„è§’åº¦ä¸º(Î´+Î²)

    ç”±äº |AB| ä¸ |CB| ç›¸ç­‰ï¼ˆå³é•¿åº¦ï¼‰ï¼Œä¸”
      |AB| = y/sin(Î´) = x / cos(Î´)
      |CB| = d/sin(Î´ + Î²) = c / cos(Î´ + Î²)
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/14.png" width="700px"/>
  </>

</Step>

<Step>

  ```js 1,2,3,4,5,6,7,8,9,10
    xâ€™ = cos(Î²) * (cx â€“ centerX) â€“ sin(Î²) * (cy â€“ centerY) + centerX
    yâ€™ = sin(Î²) * (cx â€“ centerX) + cos(Î²) * (cy â€“ centerY) + centerY
  
    è®¾ A ç‚¹æ—‹è½¬å‰çš„è§’åº¦ä¸º Î´ï¼Œåˆ™æ—‹è½¬ï¼ˆé€†æ—¶é’ˆï¼‰åˆ° C ç‚¹åçš„è§’åº¦ä¸º(Î´+Î²)

    ç”±äº |AB| ä¸ |CB| ç›¸ç­‰ï¼ˆå³é•¿åº¦ï¼‰ï¼Œä¸”
      |AB| = y/sin(Î´) = x / cos(Î´)
      |CB| = d/sin(Î´ + Î²) = c / cos(Î´ + Î²)
    
    åŠå¾„ r = x / cos(Î´) = y / sin(Î´) = d / sin(Î´ + Î²) = c / cos(Î´ + Î²)
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/14.png" width="700px"/>
  </>

</Step>

<Step>

  ```js 1,2,3,4,5,6,7,8,9,10,11,12,13,14
    xâ€™ = cos(Î²) * (cx â€“ centerX) â€“ sin(Î²) * (cy â€“ centerY) + centerX
    yâ€™ = sin(Î²) * (cx â€“ centerX) + cos(Î²) * (cy â€“ centerY) + centerY
  
    è®¾ A ç‚¹æ—‹è½¬å‰çš„è§’åº¦ä¸º Î´ï¼Œåˆ™æ—‹è½¬ï¼ˆé€†æ—¶é’ˆï¼‰åˆ° C ç‚¹åçš„è§’åº¦ä¸º(Î´+Î²)

    ç”±äº |AB| ä¸ |CB| ç›¸ç­‰ï¼ˆå³é•¿åº¦ï¼‰ï¼Œä¸”
      |AB| = y/sin(Î´) = x / cos(Î´)
      |CB| = d/sin(Î´ + Î²) = c / cos(Î´ + Î²)
    
    åŠå¾„ r = x / cos(Î´) = y / sin(Î´) = d / sin(Î´ + Î²) = c / cos(Î´ + Î²)

    ç”±ä»¥ä¸‹ä¸‰è§’å‡½æ•°ä¸¤è§’å’Œå·®å…¬å¼
      sin(Î´ + Î²) = sin(Î´)cos(Î²) + cos(Î´)sin(Î²)
      cos(Î´ + Î²) = cos(Î´)cos(Î²) - sin(Î´)sin(Î²)
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/14.png" width="700px"/>
  </>

</Step>

<Step>

  ```js 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22
    xâ€™ = cos(Î²) * (cx â€“ centerX) â€“ sin(Î²) * (cy â€“ centerY) + centerX
    yâ€™ = sin(Î²) * (cx â€“ centerX) + cos(Î²) * (cy â€“ centerY) + centerY
  
    è®¾ A ç‚¹æ—‹è½¬å‰çš„è§’åº¦ä¸º Î´ï¼Œåˆ™æ—‹è½¬ï¼ˆé€†æ—¶é’ˆï¼‰åˆ° C ç‚¹åçš„è§’åº¦ä¸º(Î´+Î²)

    ç”±äº |AB| ä¸ |CB| ç›¸ç­‰ï¼ˆå³é•¿åº¦ï¼‰ï¼Œä¸”
      |AB| = y/sin(Î´) = x / cos(Î´)
      |CB| = d/sin(Î´ + Î²) = c / cos(Î´ + Î²)
    
    åŠå¾„ r = x / cos(Î´) = y / sin(Î´) = d / sin(Î´ + Î²) = c / cos(Î´ + Î²)

    ç”±ä»¥ä¸‹ä¸‰è§’å‡½æ•°ä¸¤è§’å’Œå·®å…¬å¼
      sin(Î´ + Î²) = sin(Î´)cos(Î²) + cos(Î´)sin(Î²)
      cos(Î´ + Î²) = cos(Î´)cos(Î²) - sin(Î´)sin(Î²)
    
    å¯å¾—å‡ºæ—‹è½¬åçš„åæ ‡ï¼š
      c = r * cos(Î´ + Î²) 
        = r * cos(Î´)cos(Î²) - r * sin(Î´)sin(Î²) 
        = x * cos(Î²) - y * sin(Î²)
      d = r * sin(Î´ + Î²) 
        = r * sin(Î´)cos(Î²) + r * cos(Î´)sin(Î²) 
        = y * cos(Î²) + x * sin(Î²)
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/14.png" width="700px"/>
  </>

</Step>

</CodeSurferColumns>

---

<CodeSurferColumns>

<Step>

  ```js 
    æ¨ç®±å­ã€è¸©åœ°é›·
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/15.png" width="700px"/>
  </>

</Step>

<Step>

  ```js 
    åœ°å›¾æ ¼å­åˆ’åˆ†

    å°†åœ°å›¾ï¼ˆåœºæ™¯ï¼‰åˆ’åˆ†ä¸ºä¸€ä¸ªä¸ªæ ¼å­ã€‚
    åœ°å›¾ä¸­å‚ä¸æ£€æµ‹çš„å¯¹è±¡éƒ½å­˜å‚¨ç€è‡ªèº«æ‰€åœ¨æ ¼å­çš„åæ ‡
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/16.png" width="700px"/>
  </>

</Step>

<Step>

  ```js 
    åœ°å›¾æ ¼å­åˆ’åˆ†

    // é€šè¿‡ç‰¹å®šæ ‡è¯†æŒ‡å®šï¼ˆéï¼‰å¯è¡ŒåŒºåŸŸ
    map = [
      [0, 0, 1, 1, 1, 0, 0, 0, 0],
      [0, 1, 1, 0, 0, 1, 0, 0, 0],
      [0, 1, 0, 0, 0, 0, 1, 0, 0],
      [0, 1, 0, 0, 0, 0, 1, 0, 0],
      [0, 1, 1, 1, 1, 1, 1, 0, 0]
    ],
    // è®¾å®šè§’è‰²çš„åˆå§‹ä½ç½®
    player = {left: 2, top: 2}
    // ç§»åŠ¨å‰ï¼ˆåï¼‰åˆ¤æ–­è§’è‰²çš„ä¸‹ä¸€æ­¥çš„åŠ¨ä½œ
    ...
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/16.png" width="700px"/>
  </>

</Step>

</CodeSurferColumns>

---

<CodeSurferColumns>

<Step>

  ```js 
    åƒç´ æ£€æµ‹
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/17.png" width="700px"/>
  </>

</Step>

<Step>

  ```js 
    åƒç´ æ£€æµ‹

    ä»¥åƒç´ çº§åˆ«æ£€æµ‹ç‰©ä½“ä¹‹é—´æ˜¯å¦å­˜åœ¨é‡å ï¼Œä»è€Œåˆ¤æ–­æ˜¯å¦ç¢°æ’ã€‚
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/17.png" width="700px"/>
  </>

</Step>

<Step>

  ```js 
    åƒç´ æ£€æµ‹

    ä»¥åƒç´ çº§åˆ«æ£€æµ‹ç‰©ä½“ä¹‹é—´æ˜¯å¦å­˜åœ¨é‡å ï¼Œä»è€Œåˆ¤æ–­æ˜¯å¦ç¢°æ’ã€‚

    åœ¨ Canvas ä¸­çš„ä¸¤ç§å®ç°æ–¹å¼ï¼š

    1. é€šè¿‡å°†ä¸¤ä¸ªç‰©ä½“åœ¨ offscreen canvas ä¸­
    åˆ¤æ–­åŒä¸€ä½ç½®ï¼ˆåæ ‡ï¼‰ä¸‹æ˜¯å¦åŒæ—¶å­˜åœ¨éé€æ˜çš„åƒç´ ã€‚

    2. åˆ©ç”¨ canvas çš„ globalCompositeOperation = 'destination-in' å±æ€§ã€‚
    è¯¥å±æ€§ä¼šè®©ä¸¤è€…çš„é‡å éƒ¨åˆ†ä¼šè¢«ä¿ç•™ï¼Œå…¶ä½™åŒºåŸŸéƒ½å˜æˆé€æ˜ã€‚
    å› æ­¤ï¼Œè‹¥å­˜åœ¨éé€æ˜åƒç´ ï¼Œåˆ™ä¸ºç¢°æ’ã€‚
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/17.png" width="700px"/>
  </>

</Step>

<Step>

  ```js 
    åƒç´ æ£€æµ‹

    ä»¥åƒç´ çº§åˆ«æ£€æµ‹ç‰©ä½“ä¹‹é—´æ˜¯å¦å­˜åœ¨é‡å ï¼Œä»è€Œåˆ¤æ–­æ˜¯å¦ç¢°æ’ã€‚

    åœ¨ Canvas ä¸­çš„ä¸¤ç§å®ç°æ–¹å¼ï¼š

    1. é€šè¿‡å°†ä¸¤ä¸ªç‰©ä½“åœ¨ offscreen canvas ä¸­
    åˆ¤æ–­åŒä¸€ä½ç½®ï¼ˆåæ ‡ï¼‰ä¸‹æ˜¯å¦åŒæ—¶å­˜åœ¨éé€æ˜çš„åƒç´ ã€‚

    2. åˆ©ç”¨ canvas çš„ globalCompositeOperation = 'destination-in' å±æ€§ã€‚
    è¯¥å±æ€§ä¼šè®©ä¸¤è€…çš„é‡å éƒ¨åˆ†ä¼šè¢«ä¿ç•™ï¼Œå…¶ä½™åŒºåŸŸéƒ½å˜æˆé€æ˜ã€‚
    å› æ­¤ï¼Œè‹¥å­˜åœ¨éé€æ˜åƒç´ ï¼Œåˆ™ä¸ºç¢°æ’ã€‚

    å½“å¾…æ£€æµ‹ç¢°æ’ç‰©ä½“ä¸ºä¸¤ä¸ªæ—¶ï¼Œ
    ç¬¬ä¸€ç§æ–¹æ³•éœ€è¦ä¸¤ä¸ª offscreen canvasï¼Œè€Œç¬¬äºŒç§åªéœ€ä¸€ä¸ªã€‚
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/17.png" width="700px"/>
  </>

</Step>

<Step>

  ```js 
    åƒç´ æ£€æµ‹

    ä»¥åƒç´ çº§åˆ«æ£€æµ‹ç‰©ä½“ä¹‹é—´æ˜¯å¦å­˜åœ¨é‡å ï¼Œä»è€Œåˆ¤æ–­æ˜¯å¦ç¢°æ’ã€‚

    åœ¨ Canvas ä¸­çš„ä¸¤ç§å®ç°æ–¹å¼ï¼š

    1. é€šè¿‡å°†ä¸¤ä¸ªç‰©ä½“åœ¨ offscreen canvas ä¸­
    åˆ¤æ–­åŒä¸€ä½ç½®ï¼ˆåæ ‡ï¼‰ä¸‹æ˜¯å¦åŒæ—¶å­˜åœ¨éé€æ˜çš„åƒç´ ã€‚

    2. åˆ©ç”¨ canvas çš„ globalCompositeOperation = 'destination-in' å±æ€§ã€‚
    è¯¥å±æ€§ä¼šè®©ä¸¤è€…çš„é‡å éƒ¨åˆ†ä¼šè¢«ä¿ç•™ï¼Œå…¶ä½™åŒºåŸŸéƒ½å˜æˆé€æ˜ã€‚
    å› æ­¤ï¼Œè‹¥å­˜åœ¨éé€æ˜åƒç´ ï¼Œåˆ™ä¸ºç¢°æ’ã€‚

    å½“å¾…æ£€æµ‹ç¢°æ’ç‰©ä½“ä¸ºä¸¤ä¸ªæ—¶ï¼Œ
    ç¬¬ä¸€ç§æ–¹æ³•éœ€è¦ä¸¤ä¸ª offscreen canvasï¼Œè€Œç¬¬äºŒç§åªéœ€ä¸€ä¸ªã€‚

    è¿™é‡Œå¹¶ä¸æ˜¯åˆ©ç”¨ offscreen render çš„æ€§èƒ½ä¼˜åŠ¿ï¼Œ
    è€Œæ˜¯åˆ©ç”¨ offscreen canvas ä¿å­˜ç‹¬ç«‹ç‰©ä½“çš„åƒç´ ã€‚
    onscreen canvas åªæ˜¯èµ·å±•ç¤ºä½œç”¨ï¼Œç¢°æ’æ£€æµ‹æ˜¯åœ¨ offscreen canvas ä¸­è¿›è¡Œã€‚
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/18.png" width="700px"/>
  </>

</Step>

<Step>

  ```js 
    åƒç´ æ£€æµ‹

    ä»¥åƒç´ çº§åˆ«æ£€æµ‹ç‰©ä½“ä¹‹é—´æ˜¯å¦å­˜åœ¨é‡å ï¼Œä»è€Œåˆ¤æ–­æ˜¯å¦ç¢°æ’ã€‚

    åœ¨ Canvas ä¸­çš„ä¸¤ç§å®ç°æ–¹å¼ï¼š

    1. é€šè¿‡å°†ä¸¤ä¸ªç‰©ä½“åœ¨ offscreen canvas ä¸­
    åˆ¤æ–­åŒä¸€ä½ç½®ï¼ˆåæ ‡ï¼‰ä¸‹æ˜¯å¦åŒæ—¶å­˜åœ¨éé€æ˜çš„åƒç´ ã€‚

    2. åˆ©ç”¨ canvas çš„ globalCompositeOperation = 'destination-in' å±æ€§ã€‚
    è¯¥å±æ€§ä¼šè®©ä¸¤è€…çš„é‡å éƒ¨åˆ†ä¼šè¢«ä¿ç•™ï¼Œå…¶ä½™åŒºåŸŸéƒ½å˜æˆé€æ˜ã€‚
    å› æ­¤ï¼Œè‹¥å­˜åœ¨éé€æ˜åƒç´ ï¼Œåˆ™ä¸ºç¢°æ’ã€‚

    å½“å¾…æ£€æµ‹ç¢°æ’ç‰©ä½“ä¸ºä¸¤ä¸ªæ—¶ï¼Œ
    ç¬¬ä¸€ç§æ–¹æ³•éœ€è¦ä¸¤ä¸ª offscreen canvasï¼Œè€Œç¬¬äºŒç§åªéœ€ä¸€ä¸ªã€‚

    è¿™é‡Œå¹¶ä¸æ˜¯åˆ©ç”¨ offscreen render çš„æ€§èƒ½ä¼˜åŠ¿ï¼Œ
    è€Œæ˜¯åˆ©ç”¨ offscreen canvas ä¿å­˜ç‹¬ç«‹ç‰©ä½“çš„åƒç´ ã€‚
    onscreen canvas åªæ˜¯èµ·å±•ç¤ºä½œç”¨ï¼Œç¢°æ’æ£€æµ‹æ˜¯åœ¨ offscreen canvas ä¸­è¿›è¡Œã€‚

    å¦å¤–ï¼Œç”±äºéœ€è¦é€åƒç´ æ£€æµ‹ï¼Œè‹¥å¯¹æ•´ä¸ª Canvas å†…æ‰€æœ‰åƒç´ éƒ½è¿›è¡Œæ­¤æ“ä½œï¼Œ
    æ— ç–‘ä¼šæµªè´¹å¾ˆå¤šèµ„æºã€‚
    å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆé€šè¿‡è¿ç®—å¾—åˆ°ä¸¤è€…ç›¸äº¤åŒºåŸŸï¼Œ
    ç„¶ååªå¯¹è¯¥åŒºåŸŸå†…çš„åƒç´ è¿›è¡Œæ£€æµ‹å³å¯ã€‚
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/18.png" width="700px"/>
  </>

</Step>

</CodeSurferColumns>

---

<CodeSurferColumns>

<Step>

 ```js 
                              å‡¸å¤šè¾¹å½¢ç¢°æ’
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/31.png" width="500px"/>
  </>

</Step>

<Step>

 ```js 
                              å‡¸å¤šè¾¹å½¢ç¢°æ’
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/32.png" width="500px"/>
  </>

</Step>

<Step>

 ```js 
                                åˆ†ç¦»è½´å®šç†
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/19.png" width="500px"/>
  </>

</Step>

<Step>

 ```js 
                                åˆ†ç¦»è½´å®šç†

    é€šè¿‡åˆ¤æ–­ä»»æ„ä¸¤ä¸ª å‡¸å¤šè¾¹å½¢ åœ¨ä»»æ„è§’åº¦ä¸‹çš„æŠ•å½±æ˜¯å¦å‡å­˜åœ¨é‡å ï¼Œæ¥åˆ¤æ–­æ˜¯å¦å‘ç”Ÿç¢°æ’ã€‚
    è‹¥åœ¨æŸä¸€è§’åº¦å…‰æºä¸‹ï¼Œä¸¤ç‰©ä½“çš„æŠ•å½±å­˜åœ¨é—´éš™ï¼Œåˆ™ä¸ºä¸ç¢°æ’ï¼Œå¦åˆ™ä¸ºå‘ç”Ÿç¢°æ’ã€‚
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/19.png" width="500px"/>
  </>

</Step>

<Step>

 ```js 
                                åˆ†ç¦»è½´å®šç†

    é€šè¿‡åˆ¤æ–­ä»»æ„ä¸¤ä¸ª å‡¸å¤šè¾¹å½¢ åœ¨ä»»æ„è§’åº¦ä¸‹çš„æŠ•å½±æ˜¯å¦å‡å­˜åœ¨é‡å ï¼Œæ¥åˆ¤æ–­æ˜¯å¦å‘ç”Ÿç¢°æ’ã€‚
    è‹¥åœ¨æŸä¸€è§’åº¦å…‰æºä¸‹ï¼Œä¸¤ç‰©ä½“çš„æŠ•å½±å­˜åœ¨é—´éš™ï¼Œåˆ™ä¸ºä¸ç¢°æ’ï¼Œå¦åˆ™ä¸ºå‘ç”Ÿç¢°æ’ã€‚
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/20.png" width="700px"/>
  </>

</Step>

<Step>

 ```js 
                                åˆ†ç¦»è½´å®šç†

    é€šè¿‡åˆ¤æ–­ä»»æ„ä¸¤ä¸ª å‡¸å¤šè¾¹å½¢ åœ¨ä»»æ„è§’åº¦ä¸‹çš„æŠ•å½±æ˜¯å¦å‡å­˜åœ¨é‡å ï¼Œæ¥åˆ¤æ–­æ˜¯å¦å‘ç”Ÿç¢°æ’ã€‚
    è‹¥åœ¨æŸä¸€è§’åº¦å…‰æºä¸‹ï¼Œä¸¤ç‰©ä½“çš„æŠ•å½±å­˜åœ¨é—´éš™ï¼Œåˆ™ä¸ºä¸ç¢°æ’ï¼Œå¦åˆ™ä¸ºå‘ç”Ÿç¢°æ’ã€‚

    åœ¨ç¨‹åºä¸­ï¼Œéå†æ‰€æœ‰360åº¦æ˜¯ä¸ç°å®çš„ã€‚é‚£å¦‚ä½•ç¡®å®š æŠ•å½±è½´ å‘¢ï¼Ÿ
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/20.png" width="700px"/>
  </>

</Step>

<Step>

 ```js 
                                åˆ†ç¦»è½´å®šç†

    é€šè¿‡åˆ¤æ–­ä»»æ„ä¸¤ä¸ª å‡¸å¤šè¾¹å½¢ åœ¨ä»»æ„è§’åº¦ä¸‹çš„æŠ•å½±æ˜¯å¦å‡å­˜åœ¨é‡å ï¼Œæ¥åˆ¤æ–­æ˜¯å¦å‘ç”Ÿç¢°æ’ã€‚
    è‹¥åœ¨æŸä¸€è§’åº¦å…‰æºä¸‹ï¼Œä¸¤ç‰©ä½“çš„æŠ•å½±å­˜åœ¨é—´éš™ï¼Œåˆ™ä¸ºä¸ç¢°æ’ï¼Œå¦åˆ™ä¸ºå‘ç”Ÿç¢°æ’ã€‚

    åœ¨ç¨‹åºä¸­ï¼Œéå†æ‰€æœ‰360åº¦æ˜¯ä¸ç°å®çš„ã€‚é‚£å¦‚ä½•ç¡®å®š æŠ•å½±è½´ å‘¢ï¼Ÿ
    
    å…¶å®æŠ•å½±è½´çš„æ•°é‡ä¸å¤šè¾¹å½¢çš„è¾¹æ•°ç›¸ç­‰å³å¯ã€‚
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/21.png" width="900px"/>
  </>

</Step>

<Step>

  ```js
                        ç‰¹æ®Šæƒ…å†µ

    æˆ‘ä»¬åªéœ€è¦ä¸€æ¡æŠ•å½±è½´ï¼Œè¿™æ¡è½´å°±æ˜¯åœ†å¿ƒä¸å¤šè¾¹å½¢é¡¶ç‚¹ä¸­æœ€è¿‘çš„ä¸€ç‚¹çš„è¿çº¿
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/25.png" width="600px"/>
  </>

</Step>

<Step>

  ```js
                ç¢°æ’æ€§èƒ½ä¼˜åŒ–

    å¦‚æœé€Ÿåº¦ç‰¹åˆ«å¿«ï¼Œæ¥ä¸åŠç¢°æ’å‘¢ï¼Œå°±ç©¿æ¨¡äº†
    å°±éœ€è¦æœ€å°å¹³ç§»é‡å’Œ æŠŠç¢°æ’åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µç²—ç•¥å’Œè¯¦ç»†äº†
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/26.png" width="600px"/>
  </>

</Step>

<Step>

  ```js
       å¯¹äºå‡¹å¤šè¾¹å½¢ï¼Œ        
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/33.png" width="600px"/>
  </>

</Step>

<Step>

  ```js
       å¯¹äºå‡¹å¤šè¾¹å½¢ï¼Œ
       ä¸¤ä¸ªå¤šè¾¹å½¢æ²¡æœ‰ç¢°æ’ï¼Œä½†æ‰¾ä¸åˆ°è¿™æ ·ä¸€æ¡ç›´çº¿ï¼Œèƒ½å°†ä¸¤è€…åˆ†å¼€ã€‚        
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/33.png" width="600px"/>
  </>

</Step>

<Step>

  ```js
       å¯¹äºå‡¹å¤šè¾¹å½¢ï¼Œ
       ä¸¤ä¸ªå¤šè¾¹å½¢æ²¡æœ‰ç¢°æ’ï¼Œä½†æ‰¾ä¸åˆ°è¿™æ ·ä¸€æ¡ç›´çº¿ï¼Œèƒ½å°†ä¸¤è€…åˆ†å¼€ã€‚
       æ‰€ä»¥å¦‚æœæ˜¯å‡¹å¤šè¾¹å½¢çš„è¯ï¼Œéœ€è¦å…ˆå°†å…¶è½¬æ¢æˆå¤šä¸ªå‡¸å¤šè¾¹å½¢ã€‚         
  ```
  
  <>
    <img src="http://82.156.167.84:7001/blog/ppt2/33.png" width="600px"/>
  </>

</Step>

</CodeSurferColumns>

---

# åœ†çš„ç¢°æ’ ğŸ’¥

---

<CodeSurferColumns themes={[vsDark, github]}>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');
      }
    </script>
  ```

  <img src="https://vr1.6rooms.com/tao/i/c7/c1f6528561e961d45eaf03428ec1db48.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        function move() {
          boll2.style.left = boll1.offsetLeft + 10 + 'px';
          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/01.gif" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/1.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
            alert('æ’ä¸Šäº†')
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/02.gif" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/2.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/3.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/4.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/5.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/6.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        var sX1 = 0
        var sY1 = 0
        var sX2 = 10
        var sY2 = 0

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
            var ang = Math.asin(b/c);

            var s1 = Math.cos(ang) * sX2
            var s2 = Math.sin(ang) * sX2
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/7.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        var sX1 = 0
        var sY1 = 0
        var sX2 = 10
        var sY2 = 0

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
            var ang = Math.asin(b/c);

            var s1 = Math.cos(ang) * sX2
            var s2 = Math.sin(ang) * sX2

            var x2change1 = Math.cos(ang) * (-s1)
            var y2change1 = Math.sin(ang) * s1
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/8.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        var sX1 = 0
        var sY1 = 0
        var sX2 = 10
        var sY2 = 0

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
            var ang = Math.asin(b/c);

            var s1 = Math.cos(ang) * sX2
            var s2 = Math.sin(ang) * sX2

            var x2change1 = Math.cos(ang) * (-s1)
            var y2change1 = Math.sin(ang) * s1

            var x2change2 = Math.sin(ang) * s1
            var y2change2 = Math.cos(ang) * s1
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/9.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        var sX1 = 0
        var sY1 = 0
        var sX2 = 10
        var sY2 = 0

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
            var ang = Math.asin(b/c);

            var s1 = Math.cos(ang) * sX2
            var s2 = Math.sin(ang) * sX2

            var x2change1 = Math.cos(ang) * (-s1)
            var y2change1 = Math.sin(ang) * s1
            
            var x2change2 = Math.sin(ang) * s1
            var y2change2 = Math.cos(ang) * s1

            sX2 = x2change1 + x2change2
            sY2 = y2change1 +  y2change2
          }

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/10.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        var sX1 = 0
        var sY1 = 0
        var sX2 = 10
        var sY2 = 0

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
            var ang = Math.asin(b/c);

            var s1 = Math.cos(ang) * sX2
            var s2 = Math.sin(ang) * sX2

            var x2change1 = Math.cos(ang) * (-s1)
            var y2change1 = Math.sin(ang) * s1
            
            var x2change2 = Math.sin(ang) * s1
            var y2change2 = Math.cos(ang) * s1

            sX2 = x2change1 + x2change2
            sY2 = y2change1 +  y2change2
          }
          
          boll2.style.left = boll2.offsetLeft + sX2 + 'px';
          boll2.style.top = boll2.offsetTop + sY2 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/03.gif" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        var sX1 = 0
        var sY1 = 0
        var sX2 = 10
        var sY2 = 0

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
            var ang = Math.asin(b/c);

            var s1 = Math.cos(ang) * sX2
            var s2 = Math.sin(ang) * sX2

            var x2change1 = Math.cos(ang) * (-s1)
            var y2change1 = Math.sin(ang) * s1
            
            var x2change2 = Math.sin(ang) * s1
            var y2change2 = Math.cos(ang) * s1

            sX2 = x2change1 + x2change2
            sY2 = y2change1 +  y2change2

            sX1 = Math.cos(ang) * s1
            sY1 = Math.sin(ang) * (-s1)
          }
          
          boll2.style.left = boll2.offsetLeft + sX2 + 'px';
          boll2.style.top = boll2.offsetTop + sY2 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/11.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        var sX1 = 0
        var sY1 = 0
        var sX2 = 10
        var sY2 = 0

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
            var ang = Math.asin(b/c);

            var s1 = Math.cos(ang) * sX2
            var s2 = Math.sin(ang) * sX2

            var x2change1 = Math.cos(ang) * (-s1)
            var y2change1 = Math.sin(ang) * s1
            
            var x2change2 = Math.sin(ang) * s1
            var y2change2 = Math.cos(ang) * s1

            sX2 = x2change1 + x2change2
            sY2 = y2change1 +  y2change2

            sX1 = Math.cos(ang) * s1
            sY1 = Math.sin(ang) * (-s1)
          }
          
          boll2.style.left = boll2.offsetLeft + sX2 + 'px';
          boll2.style.top = boll2.offsetTop + sY2 + 'px';

          boll1.style.left = boll1.offsetLeft + sX1 + 'px';
          boll1.style.top = boll1.offsetTop + sY1 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/04.gif" width="700px"/>

</Step>

</CodeSurferColumns>

---

<CodeSurfer>

  ```js title="å®Œæ•´ä»£ç " subtitle=""
    <style>
      #boll1 {
        width: 200px;
        height: 200px;
        background: red;
        border-radius: 50%;
        position: absolute;
        left: 700px;
        top: 100px;
      }

      #boll2 {
        width: 100px;
        height: 100px;
        background: blue;
        border-radius: 50%;
        position: absolute;
        left: 100px;
        top: 270px;
      }
    </style>

    <body>
      <div id="boll1"></div>
      <div id="boll2"></div>
    </body>
  ```

  ```js title="å®Œæ•´ä»£ç " subtitle="æ„Ÿè°¢æ‚¨çš„è§‚çœ‹"
    window.onload = function () {
      var boll1 = document.getElementById("boll1");
      var boll2 = document.getElementById("boll2");

      var sX1 = 0;
      var sY1 = 0;
      var sX2 = 10;
      var sY2 = 0;

      function move() {
        var a = Math.abs(
          boll1.offsetLeft + 100 - (boll2.offsetLeft + 50)
        );
        var b = Math.abs(
          boll1.offsetTop + 100 - (boll2.offsetTop + 50)
        );
        var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2));

        if (c <= 150) {
          var ang = Math.asin(b / c);

          var s1 = Math.cos(ang) * sX2;
          var s2 = Math.sin(ang) * sX2;

          var x2change1 = Math.cos(ang) * -s1;
          var y2change1 = Math.sin(ang) * s1;

          var x2change2 = Math.sin(ang) * s1;
          var y2change2 = Math.cos(ang) * s1;

          sX2 = x2change1 + x2change2;
          sY2 = y2change1 + y2change2;

          sX1 = Math.cos(ang) * s1;
          sY1 = Math.sin(ang) * -s1;
        }

        boll2.style.left = boll2.offsetLeft + sX2 + "px";
        boll2.style.top = boll2.offsetTop + sY2 + "px";

        boll1.style.left = boll1.offsetLeft + sX1 + "px";
        boll1.style.top = boll1.offsetTop + sY1 + "px";

        window.requestAnimationFrame(move);
      }

      requestAnimationFrame(move);
    };
  ```

</CodeSurfer>