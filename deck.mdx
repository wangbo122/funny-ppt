import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";
import { github, vsDark } from "@code-surfer/themes";

export const theme = vsDark;

# 圆的碰撞 💥
---

<CodeSurferColumns themes={[vsDark, github]}>

<Step>

  ```js
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>

    <body>
    </body>

    </html>
  ```

  <img src="https://vr1.6rooms.com/tao/i/y5/e01e10f180da274b800c4b57f2f936b7.jpg" width="700px"/>

</Step>

<Step>

  ```js
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <style>
            * {
                margin: 0;
                padding: 0;
            }

            #boll1 {
                width: 200px;
                height: 200px;
                background: red;
                border-radius: 50%;
                position: absolute;
                left: 700px;
                top: 100px;
            }

            #boll2 {
                width: 100px;
                height: 100px;
                background: blue;
                border-radius: 50%;
                position: absolute;
                left: 100px;
                top: 270px;
            }
        </style>
    </head>

    <body>
        <div id="boll1"></div>
        <div id="boll2"></div>
    </body>

    </html>
  ```

  <img src="https://vr1.6rooms.com/tao/i/c7/c1f6528561e961d45eaf03428ec1db48.png" width="700px"/>

</Step>

</CodeSurferColumns>

---

<CodeSurferColumns themes={[vsDark, github]}>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');
      }
    </script>
  ```

  <img src="https://vr1.6rooms.com/tao/i/c7/c1f6528561e961d45eaf03428ec1db48.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        function move() {
          boll2.style.left = boll1.offsetLeft + 10 + 'px';
          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/01.gif" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/1.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
            alert('撞上了')
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/02.gif" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/2.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/3.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/4.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/5.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/6.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        var sX1 = 0
        var sY1 = 0
        var sX2 = 10
        var sY2 = 0

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
            var ang = Math.asin(b/c);

            var s1 = Math.cos(ang) * sX2
            var s2 = Math.sin(ang) * sX2
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/7.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        var sX1 = 0
        var sY1 = 0
        var sX2 = 10
        var sY2 = 0

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
            var ang = Math.asin(b/c);

            var s1 = Math.cos(ang) * sX2
            var s2 = Math.sin(ang) * sX2

            var x2change1 = Math.cos(ang) * (-s1)
            var y2change1 = Math.sin(ang) * s1
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/8.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        var sX1 = 0
        var sY1 = 0
        var sX2 = 10
        var sY2 = 0

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
            var ang = Math.asin(b/c);

            var s1 = Math.cos(ang) * sX2
            var s2 = Math.sin(ang) * sX2

            var x2change1 = Math.cos(ang) * (-s1)
            var y2change1 = Math.sin(ang) * s1

            var x2change2 = Math.sin(ang) * s1
            var y2change2 = Math.cos(ang) * s1
          }

          boll2.style.left = boll1.offsetLeft + 10 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/9.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        var sX1 = 0
        var sY1 = 0
        var sX2 = 10
        var sY2 = 0

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
            var ang = Math.asin(b/c);

            var s1 = Math.cos(ang) * sX2
            var s2 = Math.sin(ang) * sX2

            var x2change1 = Math.cos(ang) * (-s1)
            var y2change1 = Math.sin(ang) * s1
            
            var x2change2 = Math.sin(ang) * s1
            var y2change2 = Math.cos(ang) * s1

            sX2 = x2change1 + x2change2
            sY2 = y2change1 +  y2change2
          }

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/10.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        var sX1 = 0
        var sY1 = 0
        var sX2 = 10
        var sY2 = 0

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
            var ang = Math.asin(b/c);

            var s1 = Math.cos(ang) * sX2
            var s2 = Math.sin(ang) * sX2

            var x2change1 = Math.cos(ang) * (-s1)
            var y2change1 = Math.sin(ang) * s1
            
            var x2change2 = Math.sin(ang) * s1
            var y2change2 = Math.cos(ang) * s1

            sX2 = x2change1 + x2change2
            sY2 = y2change1 +  y2change2
          }
          
          boll2.style.left = boll2.offsetLeft + sX2 + 'px';
          boll2.style.top = boll2.offsetTop + sY2 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/03.gif" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        var sX1 = 0
        var sY1 = 0
        var sX2 = 10
        var sY2 = 0

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
            var ang = Math.asin(b/c);

            var s1 = Math.cos(ang) * sX2
            var s2 = Math.sin(ang) * sX2

            var x2change1 = Math.cos(ang) * (-s1)
            var y2change1 = Math.sin(ang) * s1
            
            var x2change2 = Math.sin(ang) * s1
            var y2change2 = Math.cos(ang) * s1

            sX2 = x2change1 + x2change2
            sY2 = y2change1 +  y2change2

            sX1 = Math.cos(ang) * s1
            sY1 = Math.sin(ang) * (-s1)
          }
          
          boll2.style.left = boll2.offsetLeft + sX2 + 'px';
          boll2.style.top = boll2.offsetTop + sY2 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/11.png" width="700px"/>

</Step>

<Step>

  ```js
    <script>
      window.onload = function () {
        var boll1 = document.getElementById('boll1');
        var boll2 = document.getElementById('boll2');

        var sX1 = 0
        var sY1 = 0
        var sX2 = 10
        var sY2 = 0

        function move() {
          var a = Math.abs((boll1.offsetLeft + 100) - (boll2.offsetLeft + 50))
          var b = Math.abs((boll1.offsetTop + 100) - (boll2.offsetTop + 50))
          var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))

          if(c <= 150){
            var ang = Math.asin(b/c);

            var s1 = Math.cos(ang) * sX2
            var s2 = Math.sin(ang) * sX2

            var x2change1 = Math.cos(ang) * (-s1)
            var y2change1 = Math.sin(ang) * s1
            
            var x2change2 = Math.sin(ang) * s1
            var y2change2 = Math.cos(ang) * s1

            sX2 = x2change1 + x2change2
            sY2 = y2change1 +  y2change2

            sX1 = Math.cos(ang) * s1
            sY1 = Math.sin(ang) * (-s1)
          }
          
          boll2.style.left = boll2.offsetLeft + sX2 + 'px';
          boll2.style.top = boll2.offsetTop + sY2 + 'px';

          boll1.style.left = boll1.offsetLeft + sX1 + 'px';
          boll1.style.top = boll1.offsetTop + sY1 + 'px';

          window.requestAnimationFrame(move)
        }

        requestAnimationFrame(move)
      }
    </script>
  ```

  <img src="http://82.156.167.84:7001/blog/ppt/04.gif" width="700px"/>

</Step>

</CodeSurferColumns>

---

<CodeSurfer>

  ```js title="完整代码" subtitle=""
    <style>
      #boll1 {
        width: 200px;
        height: 200px;
        background: red;
        border-radius: 50%;
        position: absolute;
        left: 700px;
        top: 100px;
      }

      #boll2 {
        width: 100px;
        height: 100px;
        background: blue;
        border-radius: 50%;
        position: absolute;
        left: 100px;
        top: 270px;
      }
    </style>

    <body>
      <div id="boll1"></div>
      <div id="boll2"></div>
    </body>
  ```

  ```js title="完整代码" subtitle="感谢您的观看"
    window.onload = function () {
      var boll1 = document.getElementById("boll1");
      var boll2 = document.getElementById("boll2");

      var sX1 = 0;
      var sY1 = 0;
      var sX2 = 10;
      var sY2 = 0;

      function move() {
        var a = Math.abs(
          boll1.offsetLeft + 100 - (boll2.offsetLeft + 50)
        );
        var b = Math.abs(
          boll1.offsetTop + 100 - (boll2.offsetTop + 50)
        );
        var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2));

        if (c <= 150) {
          var ang = Math.asin(b / c);

          var s1 = Math.cos(ang) * sX2;
          var s2 = Math.sin(ang) * sX2;

          var x2change1 = Math.cos(ang) * -s1;
          var y2change1 = Math.sin(ang) * s1;

          var x2change2 = Math.sin(ang) * s1;
          var y2change2 = Math.cos(ang) * s1;

          sX2 = x2change1 + x2change2;
          sY2 = y2change1 + y2change2;

          sX1 = Math.cos(ang) * s1;
          sY1 = Math.sin(ang) * -s1;
        }

        boll2.style.left = boll2.offsetLeft + sX2 + "px";
        boll2.style.top = boll2.offsetTop + sY2 + "px";

        boll1.style.left = boll1.offsetLeft + sX1 + "px";
        boll1.style.top = boll1.offsetTop + sY1 + "px";

        window.requestAnimationFrame(move);
      }

      requestAnimationFrame(move);
    };
  ```

</CodeSurfer>
